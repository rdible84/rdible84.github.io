<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jennifer Roberts">
<meta name="dcterms.date" content="2024-01-02">
<meta name="description" content="Essential strategies for boards to develop robust CEO succession plans that ensure organizational continuity and drive long-term value creation.">

<title>Talent Pathfinder - CEO Succession Planning: The Ultimate Board Responsibility</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<!-- Global Meta Tags -->
<meta name="robots" content="index, follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="author" content="Talent Pathfinder">
<meta name="keywords" content="executive search, leadership advisory, CEO recruitment, board advisory, succession planning, C-suite search">

<!-- Open Graph Meta Tags -->
<meta property="og:type" content="$if(date)article$else website$endif$">
<meta property="og:site_name" content="$site-title$">
<meta property="og:title" content="Talent Pathfinder - CEO Succession Planning: The Ultimate Board Responsibility">
<meta property="og:description" content="Essential strategies for boards to develop robust CEO succession plans that ensure organizational continuity and drive long-term value creation.">
<meta property="og:image" content="$if(image)$$image$$else/assets/logo.png$endif$">
<meta property="og:url" content="$site-url$$url$">

<!-- Twitter Card Meta Tags -->
<meta name="twitter:card" content="$if(image)summary_large_image$else summary$endif$">
<meta name="twitter:title" content="Talent Pathfinder - CEO Succession Planning: The Ultimate Board Responsibility">
<meta name="twitter:description" content="Essential strategies for boards to develop robust CEO succession plans that ensure organizational continuity and drive long-term value creation.">
<meta name="twitter:image" content="$if(image)$$image$$else/assets/logo.png$endif$">

<!-- Favicon -->
<link rel="icon" type="image/png" sizes="32x32" href="../../assets/logo.png">
<link rel="apple-touch-icon" sizes="180x180" href="../../assets/logo.png">

<!-- Google Font: Inter -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet"> 

<!-- Canonical URL -->
<link rel="canonical" href="$site-url$$url$">

<!-- JSON-LD for Blog Posts -->
</head><body>$if(date)$
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "$title$",
  "description": "$description$",
  "image": "$image$",
  "datePublished": "$date$",
  "author": { "@type": "Person", "name": "$author$" },
  "mainEntityOfPage": { "@type": "WebPage", "@id": "$site-url$$url$" }
}
</script>
$endif$ 


<link rel="stylesheet" href="../../styles.css">




<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content column-page" id="quarto-document-content">
<header class="global-header">
  <a href="#main-content" class="skip-link">Skip to content</a>
  <a id="main-content" tabindex="-1"></a>
  <div class="container">
    <a href="../../" class="logo"><img src="../../assets/logo.png" alt="Talent Pathfinder logo" class="logo-img"></a>
    <nav class="main-nav">
      <a href="../../" class="nav-link">Home</a>
      <a href="../../about.html" class="nav-link">About</a>
      <a href="../../services.html" class="nav-link">Services</a>
      <a href="../../blog/" class="nav-link">Insights</a>
      <a href="../../contact.html" class="btn-primary">Contact Us</a>
    </nav>
  </div>
</header> 

<!-- Empty template partial to override default Quarto title-block --> 


<div class="blog-post-header">
<div class="blog-post-meta">
January 2, 2024 • Jennifer Roberts
</div>
<h1 class="blog-post-title">
CEO Succession Planning: The Ultimate Board Responsibility
</h1>
<div class="blog-post-tags">
<span class="blog-post-tag">CEO Search</span><span class="blog-post-tag">Board Governance</span><span class="blog-post-tag">Succession Planning</span>
</div>
</div>
<div class="page-content blog-post-content">
<p>CEO succession represents one of the most critical decisions a board will ever make. Research shows that companies with robust succession planning processes deliver 2.1x better financial performance and experience significantly smoother leadership transitions. Yet many boards remain underprepared for this ultimate responsibility.</p>
<section id="the-succession-planning-imperative" class="level2">
<h2 class="anchored" data-anchor-id="the-succession-planning-imperative">The Succession Planning Imperative</h2>
<p>The statistics paint a sobering picture: nearly 40% of Fortune 500 companies lack a formal CEO succession plan, and among those that do, many plans haven’t been updated in over three years. This disconnect between the critical importance of CEO succession and actual preparation represents one of the most significant governance gaps in modern business.</p>
<p>Effective succession planning extends far beyond having a list of potential candidates. It requires a systematic approach to identifying, developing, and evaluating future leaders while maintaining organizational continuity during transitions.</p>
</section>
<section id="building-a-robust-succession-framework" class="level2">
<h2 class="anchored" data-anchor-id="building-a-robust-succession-framework">Building a Robust Succession Framework</h2>
<section id="start-with-strategic-clarity" class="level3">
<h3 class="anchored" data-anchor-id="start-with-strategic-clarity">1. Start with Strategic Clarity</h3>
<p>Before identifying potential successors, boards must have crystal clarity on the organization’s strategic direction and the leadership competencies required to execute that vision. The CEO of tomorrow may need vastly different skills than the CEO of today.</p>
<p><strong>Key Questions:</strong> - What will our industry look like in 5-10 years? - What capabilities will be most critical for future success? - How might our business model need to evolve?</p>
</section>
<section id="develop-internal-talent-pipelines" class="level3">
<h3 class="anchored" data-anchor-id="develop-internal-talent-pipelines">2. Develop Internal Talent Pipelines</h3>
<p>The most successful successions often come from within. Organizations should invest heavily in developing high-potential leaders across multiple levels, not just C-suite executives.</p>
<p><strong>Best Practices:</strong> - Implement stretch assignments and cross-functional rotations - Provide executive coaching and mentorship programs - Create opportunities for board interaction and visibility - Establish clear development pathways with measurable milestones</p>
</section>
<section id="maintain-external-perspective" class="level3">
<h3 class="anchored" data-anchor-id="maintain-external-perspective">3. Maintain External Perspective</h3>
<p>While developing internal candidates is crucial, boards should maintain awareness of external talent markets. This dual approach ensures access to the best possible candidates while providing valuable benchmarking for internal development efforts.</p>
</section>
</section>
<section id="the-boards-critical-role" class="level2">
<h2 class="anchored" data-anchor-id="the-boards-critical-role">The Board’s Critical Role</h2>
<section id="ownership-and-accountability" class="level3">
<h3 class="anchored" data-anchor-id="ownership-and-accountability">Ownership and Accountability</h3>
<p>CEO succession planning cannot be delegated entirely to management. The board must take active ownership of the process, with many leading organizations assigning this responsibility to a dedicated committee.</p>
</section>
<section id="regular-assessment-and-updates" class="level3">
<h3 class="anchored" data-anchor-id="regular-assessment-and-updates">Regular Assessment and Updates</h3>
<p>Succession plans must be living documents, reviewed and updated regularly. Annual deep-dive sessions should assess: - Current candidate readiness levels - Emerging talent within the organization<br>
- Changes in strategic requirements - External market dynamics</p>
</section>
<section id="emergency-preparedness" class="level3">
<h3 class="anchored" data-anchor-id="emergency-preparedness">Emergency Preparedness</h3>
<p>Beyond planned successions, boards must prepare for unexpected departures. This includes: - Identifying interim leadership capabilities - Establishing clear decision-making protocols - Maintaining updated candidate assessments - Having external search resources on standby</p>
</section>
</section>
<section id="common-pitfalls-to-avoid" class="level2">
<h2 class="anchored" data-anchor-id="common-pitfalls-to-avoid">Common Pitfalls to Avoid</h2>
<section id="over-reliance-on-single-candidates" class="level3">
<h3 class="anchored" data-anchor-id="over-reliance-on-single-candidates">Over-Reliance on Single Candidates</h3>
<p>Focusing too heavily on one “heir apparent” can create organizational politics and leave the company vulnerable if that individual leaves or underperforms.</p>
</section>
<section id="insufficient-development-investment" class="level3">
<h3 class="anchored" data-anchor-id="insufficient-development-investment">Insufficient Development Investment</h3>
<p>Identifying potential successors without providing adequate development resources sets both the individuals and the organization up for failure.</p>
</section>
<section id="lack-of-board-engagement" class="level3">
<h3 class="anchored" data-anchor-id="lack-of-board-engagement">Lack of Board Engagement</h3>
<p>When boards are not actively involved in succession planning, they often lack the deep knowledge needed to make informed decisions during actual transitions.</p>
</section>
</section>
<section id="measuring-success" class="level2">
<h2 class="anchored" data-anchor-id="measuring-success">Measuring Success</h2>
<p>Effective succession planning can be measured through several key indicators:</p>
<ul>
<li><strong>Pipeline Depth</strong>: Number of qualified internal candidates for key roles</li>
<li><strong>Development Progress</strong>: Advancement of high-potential leaders through planned development experiences</li>
<li><strong>Retention Rates</strong>: Ability to retain top talent identified as succession candidates</li>
<li><strong>Transition Success</strong>: Smooth leadership transitions with minimal business disruption</li>
</ul>
</section>
<section id="the-future-of-succession-planning" class="level2">
<h2 class="anchored" data-anchor-id="the-future-of-succession-planning">The Future of Succession Planning</h2>
<p>As business environments become increasingly complex and fast-moving, succession planning must evolve to become more dynamic and responsive. This includes:</p>
<ul>
<li><strong>Competency-Based Planning</strong>: Focus on capabilities rather than specific roles</li>
<li><strong>Scenario Planning</strong>: Preparing for multiple potential futures</li>
<li><strong>External Partnership</strong>: Closer collaboration with executive search firms for market intelligence</li>
<li><strong>Technology Integration</strong>: Using data analytics to identify and assess talent</li>
</ul>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>CEO succession planning represents one of the board’s most critical responsibilities. Organizations that approach this systematically, with proper board engagement and long-term perspective, position themselves for sustained success regardless of leadership changes.</p>
<p>The investment required for robust succession planning is significant, but the cost of poor preparation—in terms of organizational disruption, market confidence, and strategic momentum—can be far greater.</p>
<p><em>For boards looking to strengthen their succession planning processes, Talent Pathfinder offers specialized advisory services combining deep governance expertise with comprehensive market intelligence.</em></p>
</section>
</div>
<div class="blog-nav">
<p><a href="../../blog/posts/building-diverse-leadership-teams" class="blog-nav-link">← Previous Article</a> <a href="../../blog/" class="blog-nav-link">Back to Insights →</a></p>
</div>
</main></div>





 <!-- /main -->
<footer class="site-footer">
  <div class="container">
    <div class="footer-content">
      <div class="footer-section">
        <div class="footer-brand">Talent Pathfinder</div>
        <p class="footer-description">
          Connecting exceptional leaders with world-class organisations through strategic executive search and leadership advisory services. We specialize in C-suite, board, and senior executive placements across multiple industries.
        </p>
    <div class="newsletter-signup">
          <h3 class="newsletter-title">Executive Insights Newsletter</h3>
      <form action="#" class="newsletter-form">
            <input type="email" placeholder="Enter your email" required="">
        <button type="submit" class="btn-primary">Subscribe</button>
      </form>
        </div>
      </div>
      
      <div class="footer-section">
        <h4>Services</h4>
        <ul class="footer-links">
          <li><a href="../../services.html">Executive Search</a></li>
          <li><a href="../../services.html">Board Advisory</a></li>
          <li><a href="../../services.html">Succession Planning</a></li>
        </ul>
      </div>
      
      <div class="footer-section">
        <h4>Company</h4>
        <ul class="footer-links">
          <li><a href="../../about.html">About Us</a></li>
          <li><a href="../../blog/">Insights</a></li>
          <li><a href="../../contact.html">Contact</a></li>
          <li><a href="#" onclick="window.open('https://linkedin.com/company/talent-pathfinder', '_blank')">LinkedIn</a></li>
        </ul>
      </div>
      
      <div class="footer-section">
        <h4>Contact</h4>
        <ul class="footer-links">
          <li><a href="mailto:info@talentpathfinder.com">info@talentpathfinder.com</a></li>
          <li><a href="tel:+1-555-0123">+1 (555) 012-3456</a></li>
          <li>123 Executive Drive<br>Suite 400<br>Business District, NY 10001</li>
        </ul>
      </div>
    </div>
    
    <div class="footer-bottom">
      <p>© 2024 Talent Pathfinder. All rights reserved.</p>
    </div>
    
    <script>
    document.addEventListener('DOMContentLoaded',()=>{
      const els=document.querySelectorAll('.reveal');
      const io=new IntersectionObserver(entries=>{entries.forEach(e=>{if(e.isIntersecting){e.target.classList.add('revealed');io.unobserve(e.target);}});},{threshold:.2});
      els.forEach(el=>io.observe(el));
    });
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "Talent Pathfinder",
      "description": "Strategic executive search and leadership advisory services",
      "url": "https://talentpathfinder.com",
      "contactPoint": {
        "@type": "ContactPoint",
        "telephone": "+1-555-012-3456",
        "contactType": "Customer Service",
        "email": "info@talentpathfinder.com"
      },
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "123 Executive Drive, Suite 400",
        "addressLocality": "Business District",
        "addressRegion": "NY",
        "postalCode": "10001",
        "addressCountry": "US"
      },
      "sameAs": [
        "https://linkedin.com/company/talent-pathfinder"
      ]
    }
    </script>
  </div>
</footer> 

  <!-- Back to Top Button -->
  <button id="back-to-top" aria-label="Back to top">↑</button>
  <script>
    const backToTopBtn = document.getElementById('back-to-top');
    backToTopBtn.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));
    window.addEventListener('scroll', () => {
      backToTopBtn.style.display = window.scrollY > 300 ? 'flex' : 'none';
    });
  </script> 
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
 <!-- /content -->




</body></html>